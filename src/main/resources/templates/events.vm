#if($events.size()>0)

#if($Event.getTypes($events).size() > 1)
<div class="pull-right">
	<h4>filter event type</h4>
	<h5>(<a href="#" id="event-filter-all">all</a>|<a href="#" id="event-filter-none">none</a>)</h5>
	<ul class="checkbox">
#foreach( $type in $Event.getTypesWithCounts($events).entrySet() )
<li><input class="event-filter" type="checkbox" value="$type.key.replace(" ","-")" checked> $type.key ($type.value)</li>
#end
</ul>
</div>

<script>
$("#event-filter-all").click(
	function(e) {
		$(".event-filter:checkbox").each(function(ind,box){
			$(box).prop("checked", true).trigger("change");
		})
	}
);

$("#event-filter-none").click(
	function(e) {
		$(".event-filter:checkbox").each(function(ind,box){
			$(box).prop("checked", false).trigger("change");
		})
	}
);

$(".event-filter").change(
	function(e) {
		console.log($(this).val(), $(this).prop("checked"));
		if($(this).prop("checked"))
			$(".event."+$(this).val()).show();
		else
			$(".event."+$(this).val()).hide();
	}
);
</script>
#end

<h4>Events</h4>
<ul>
#foreach( $event in $events )
	<li class="event $event.type.replace(" ","-")">
		In $event.date, $event.shortDescription
		#if($event.collection) 
		<a class="glyphicon glyphicon-search" role="button" data-toggle="popover" data="$event.collection.url"></a>
		 #end
    </li>
#end
</ul>
#end
